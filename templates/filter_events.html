{% extends 'base.html' %}

{% block content %}
    <h1>Filter Events by User</h1>
    <form method="GET">
        <label for="user">Select User:</label>
        <select name="user" id="user">
            {% for user in users %}
                <option value="{{ user.id }}" {% if user.id == selected_user.id %}selected{% endif %}>
                    {{ user.username }}
                </option>
            {% endfor %}
        </select>
        <button type="submit">Filter</button>
    </form>

    <h2>Filtered Events</h2>
    <table>
        <tr>
            <th>Title</th>
            <th>Start Time</th>
            <th>End Time</th>
        </tr>
        {% for event in events %}
            <tr>
                <td>{{ event.title }}</td>
                <td>{{ event.start_time }}</td>
                <td>{{ event.end_time }}</td>
            </tr>
        {% endfor %}
    </table>
{% endblock %}
